<header class="header">
  <div class="header-container">
    <div class="header-content">
      <a [routerLink]="['/']" class="logo" (click)="closeMenus()">
        <img src="/assets/img/iftslogo.png" alt="Logo IFTS26" class="logo-image">
        <div class="logo-text">
          <div class="logo-title">IFTS N°26</div>
          <div class="logo-subtitle">Instituto de Formación Técnica Superior</div>
        </div>
      </a>

      <nav class="desktop-menu">
        @for (button of navButtons; track button.label) {
        <div class="menu-item-wrapper">

          @if (!button.items) {
          <a [routerLink]="button.route" routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: button.route === '/'}" class="menu-item" (click)="closeMenus()">
            {{ button.label }}
          </a>
          } @else {
          <div class="submenu-container">
            <button class="menu-item">
              {{ button.label }}
            </button>

            <div class="submenu">
              @for (subItem of button.items; track subItem.route) {
              <a [routerLink]="subItem.route" routerLinkActive="active" class="submenu-item" (click)="closeMenus()">
                {{ subItem.text }}
              </a>
              }
            </div>
          </div>
          }

        </div>
        }
      </nav>

      <button class="mobile-menu-button" (click)="toggleMobileMenu()"
        [attr.aria-label]="mobileMenuOpen ? 'Cerrar menú' : 'Abrir menú'">
        <span class="hamburger-icon" [class.open]="mobileMenuOpen">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </button>
    </div>

    @if (mobileMenuOpen) {
    <nav class="mobile-menu" [@slideDown]>
      <div class="mobile-menu-scroll">

        @for (button of navButtons; track button.label) {
        <div class="mobile-menu-group">

          @if (!button.items) {
          <a [routerLink]="button.route" routerLinkActive="active"
            [routerLinkActiveOptions]="{exact: button.route === '/'}" class="mobile-menu-item" (click)="closeMenus()">
            <span>{{ button.label }}</span>
            <i class="bi bi-chevron-right"></i>
          </a>
          } @else {
          <div class="mobile-submenu-wrapper">
            <button class="mobile-menu-item" [class.active]="openSubmenu === button.label"
              (click)="toggleSubmenu(button.label)">
              <span>{{ button.label }}</span>
              <i class="bi" [class.bi-chevron-down]="openSubmenu !== button.label"
                [class.bi-chevron-up]="openSubmenu === button.label">
              </i>
            </button>

            @if (openSubmenu === button.label) {
            <div class="mobile-submenu">
              @for (subItem of button.items; track subItem.route) {
              <a [routerLink]="subItem.route" routerLinkActive="active" class="mobile-submenu-item"
                (click)="closeMenus()">
                {{ subItem.text }}
              </a>
              }
            </div>
            }
          </div>
          }

        </div>
        }

      </div>
    </nav>
    }
  </div>
</header>