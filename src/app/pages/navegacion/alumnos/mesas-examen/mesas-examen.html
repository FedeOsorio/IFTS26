<div class="mesas-container">
  
  <header class="page-header">
    <h1 class="main-title">{{ data.titulo }}</h1>
    <h2 class="subtitle">{{ data.subtitulo }}</h2>
  </header>

  <section class="info-banner">
    <div class="banner-content">
      
      <div class="image-col">
        <img [src]="data.cabecera.imagen" alt="Mesas de Examen" class="intro-img">
      </div>

      <div class="text-col">
        <div class="markdown-dates" [innerHTML]="renderMarkdown(data.cabecera.texto)"></div>
      </div>

    </div>
  </section>

  <section class="cronogramas-list">
    
    @for (turno of data.turnos; track $index) {
      <div class="accordion-item" [class.active]="turno.abierto">
        
        <button class="accordion-header" (click)="toggleTurno(turno)">
          <div class="header-title">
            <fa-icon [icon]="iconoCalendario" class="calendar-icon"></fa-icon>
            <h3>{{ turno.titulo }}</h3>
          </div>
          <fa-icon [icon]="turno.abierto ? iconoContraer : iconoExpandir" class="toggle-icon"></fa-icon>
        </button>
        
        <div class="accordion-content">
          <div class="content-inner">
            
            @if (turno.archivo) {
              <div class="viewer-container">
                <iframe 
                  [src]="getSafeUrl(turno.archivo)" 
                  width="100%" 
                  height="100%">
                </iframe>
              </div>

              <div class="download-actions">
                <a [href]="turno.archivo" target="_blank" download class="btn-download">
                  <fa-icon [icon]="iconoDescarga"></fa-icon> Descargar Cronograma
                </a>
              </div>
            } @else {
              <p class="no-data">Cronograma a√∫n no disponible.</p>
            }

          </div>
        </div>

      </div>
    }

  </section>

</div>